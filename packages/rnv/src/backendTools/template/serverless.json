{
    "service": {
        "name": "{{PROJECT_NAME}}"
    },
    "custom": {
        "webpack": {
            "webpackConfig": "./webpack.serverless.config.js",
            "includeModules": true
        },
        "defaultStage": "dev",
        "currentStage": "${opt:stage, self:custom.defaultStage}"
    },
    "plugins": [
        "serverless-webpack",
        "serverless-offline",
        "serverless-dotenv-plugin",
        "serverless-pseudo-parameters"
    ],
    "provider": {
        "name": "aws",
        "runtime": "nodejs12.x",
        "stage": "${self:custom.currentStage}",
        "timeout": 20,
        "region": "eu-west-1",
        "apiGateway": {
            "minimumCompressionSize": 1024
        },
        "environment": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": 1,
            "STAGE": "${self:custom.currentStage}"
        }
    },
    "functions": {
        "handler": {
            "handler": "src/api/handler.handler",
            "events": [
                {
                    "http": {
                        "method": "get",
                        "path": "test"
                    }
                }
            ]
        }
    }
}
